<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Error Handling?오류 처리란 말 그대로 프로그램을 사용하면서 발생하는 오류를 감지하고 처리하는 것을 말한다. 프로그램이 우리가 예상하는 대로 동작한다는 확신은 없기에 오류를 적절히 감지하고 오류에 따른 적절한 대처가 중요하다. 예를 들어 네트워크를 사용하는 앱을 생각해보자. 네트워크에서 데이터를 받아와 앱에 보여줘야 하는데 그 데이터가 없을 수도">
<meta name="keywords" content="iOS,Swift,Error,try,catch">
<meta property="og:type" content="article">
<meta property="og:title" content="Error Handling">
<meta property="og:url" content="https://wnstkdyu.github.io/2018/02/01/errorhandling/index.html">
<meta property="og:site_name" content="PacaLog">
<meta property="og:description" content="Error Handling?오류 처리란 말 그대로 프로그램을 사용하면서 발생하는 오류를 감지하고 처리하는 것을 말한다. 프로그램이 우리가 예상하는 대로 동작한다는 확신은 없기에 오류를 적절히 감지하고 오류에 따른 적절한 대처가 중요하다. 예를 들어 네트워크를 사용하는 앱을 생각해보자. 네트워크에서 데이터를 받아와 앱에 보여줘야 하는데 그 데이터가 없을 수도">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://wnstkdyu.github.io/2018/02/01/errorhandling/doCatch.png">
<meta property="og:updated_time" content="2018-03-24T20:43:36.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Error Handling">
<meta name="twitter:description" content="Error Handling?오류 처리란 말 그대로 프로그램을 사용하면서 발생하는 오류를 감지하고 처리하는 것을 말한다. 프로그램이 우리가 예상하는 대로 동작한다는 확신은 없기에 오류를 적절히 감지하고 오류에 따른 적절한 대처가 중요하다. 예를 들어 네트워크를 사용하는 앱을 생각해보자. 네트워크에서 데이터를 받아와 앱에 보여줘야 하는데 그 데이터가 없을 수도">
<meta name="twitter:image" content="https://wnstkdyu.github.io/2018/02/01/errorhandling/doCatch.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Error Handling</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/02/03/18-02-03study/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/01/27/pop/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://wnstkdyu.github.io/2018/02/01/errorhandling/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&text=Error Handling"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&is_video=false&description=Error Handling"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Error Handling&body=Check out this article: https://wnstkdyu.github.io/2018/02/01/errorhandling/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&name=Error Handling&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-Handling"><span class="toc-number">1.</span> <span class="toc-text">Error Handling?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-표현"><span class="toc-number">2.</span> <span class="toc-text">Error 표현</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-처리하기"><span class="toc-number">3.</span> <span class="toc-text">Error 처리하기</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-함수가-발생시킨-오류를-그-함수의-코드에-알리기"><span class="toc-number">3.1.</span> <span class="toc-text">1. 함수가 발생시킨 오류를 그 함수의 코드에 알리기</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-do-catch-구문을-통한-처리"><span class="toc-number">3.2.</span> <span class="toc-text">2. do-catch 구문을 통한 처리</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-옵셔널을-통한-처리"><span class="toc-number">3.3.</span> <span class="toc-text">3. 옵셔널을 통한 처리</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-오류가-발생하지-않을-거라-단정하기"><span class="toc-number">3.4.</span> <span class="toc-text">4. 오류가 발생하지 않을 거라 단정하기</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#defer로-마지막-청소"><span class="toc-number">4.</span> <span class="toc-text">defer로 마지막 청소</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">5.</span> <span class="toc-text">Reference</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Error Handling
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">PacaLog</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-01-31T15:00:00.000Z" itemprop="datePublished">2018-02-01</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Error/">Error</a>, <a class="tag-link" href="/tags/Swift/">Swift</a>, <a class="tag-link" href="/tags/catch/">catch</a>, <a class="tag-link" href="/tags/iOS/">iOS</a>, <a class="tag-link" href="/tags/try/">try</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling?"></a>Error Handling?</h2><p>오류 처리란 말 그대로 프로그램을 사용하면서 발생하는 오류를 감지하고 처리하는 것을 말한다. 프로그램이 우리가 예상하는 대로 동작한다는 확신은 없기에 오류를 적절히 감지하고 오류에 따른 적절한 대처가 중요하다.</p>
<p>예를 들어 네트워크를 사용하는 앱을 생각해보자. 네트워크에서 데이터를 받아와 앱에 보여줘야 하는데 그 데이터가 없을 수도 있고, 아니면 앱에서 요청을 할 때 매개 변수를 잘못 입력하거나 빠뜨릴 수도 있고, 또 권한이 없는 경우일 수도 있다.</p>
<p>좋은 품질의 앱은 다양한 측면에서 평가할 수 있겠지만, 이와 같은 다양한 오류 상황에 대해 사용자가 불편하지 않도록, 각각의 오류에 대해 올바르게 대응할 수 있는 것은 그 앱을 평가하는 데에 무시할 수 없는 기준일 것이다.</p>
<h2 id="Error-표현"><a href="#Error-표현" class="headerlink" title="Error 표현"></a>Error 표현</h2><p>Swift에서 오류는 <a href="https://developer.apple.com/documentation/swift/error" target="_blank" rel="noopener">Error 프로토콜</a>을 따르는 타입으로 표현한다. 이 프로토콜은 요구사항이 없기 때문에 커스텀 타입에 프로토콜을 따른다고 선언만 하면 된다.</p>
<p>Swift에서 열거형(Enumerations)은 오류를 표현하기 적합한 타입이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">OperatingSystem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> window</span><br><span class="line">    <span class="keyword">case</span> mac</span><br><span class="line">    <span class="keyword">case</span> linux</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">GamePlayError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> performance</span><br><span class="line">    <span class="keyword">case</span> unsupportedOS(os: <span class="type">OperatingSystem</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>오류의 종류를 표현하기 쉽고 연관 값을 통해 부가적인 정보까지 전달할 수 있다. 위의 예에서 <code>GamePlayError</code> 타입의 <code>unsupportedOS(:)</code> 케이스의 경우 지원하지 않는 운영체제가 무엇인지도 알려준다. 이처럼 오류의 종류를 몇가지로 예상해 볼 수 있다.</p>
<h2 id="Error-처리하기"><a href="#Error-처리하기" class="headerlink" title="Error 처리하기"></a>Error 처리하기</h2><p>오류를 표현했다면 적절한 처리가 필요하다. <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/ErrorHandling.html#//apple_ref/doc/uid/TP40014097-CH42-ID508" target="_blank" rel="noopener">Error Handling - The Swift Programming Language</a>에서는 네 가지 방법을 소개한다.</p>
<ul>
<li>함수가 발생시킨 오류를 그 함수의 코드에 알리기</li>
<li>do-catch 구문을 통한 처리</li>
<li>옵셔널을 통한 처리</li>
<li>오류가 발생하지 않을 거라 단정하기</li>
</ul>
<h3 id="1-함수가-발생시킨-오류를-그-함수의-코드에-알리기"><a href="#1-함수가-발생시킨-오류를-그-함수의-코드에-알리기" class="headerlink" title="1. 함수가 발생시킨 오류를 그 함수의 코드에 알리기"></a>1. 함수가 발생시킨 오류를 그 함수의 코드에 알리기</h3><p>함수에서 오류를 던지고 그것을 받아 적절히 처리하는 방법이다. try 키워드로 받을 수 있으며 오류를 언제, 어디서 받아 처리할지 잘 결정해야 한다. 왜냐하면 오류로 인해 프로그램 전체의 흐름이 달라지기 때문이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Computer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> os: <span class="type">OperatingSystem</span></span><br><span class="line">    <span class="keyword">var</span> performance: <span class="type">Performance</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(os: <span class="type">OperatingSystem</span>, performance: <span class="type">Performance</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.os = os</span><br><span class="line">        <span class="keyword">self</span>.performance = performance</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">playMyGame</span><span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">self</span>.performance == .good <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">GamePlayError</span>.performance</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">self</span>.os == .window <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="type">GamePlayError</span>.unsupportedOS(os: <span class="keyword">self</span>.os)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">playInPCRoom</span><span class="params">(pcRoom: String)</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Play game in <span class="subst">\(pcRoom)</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> computer = <span class="type">Computer</span>(os: .mac, performance: .bad)</span><br><span class="line">    <span class="keyword">try</span> computer.playMyGame()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// func playInPCRoom(pcRoom: String)  &#123;</span></span><br><span class="line"><span class="comment">//     print("Play game in \(pcRoom)")</span></span><br><span class="line"><span class="comment">//     let computer = Computer(os: .mac, performance: .bad)</span></span><br><span class="line"><span class="comment">//     try computer.playMyGame() // Errors thrown from here are not handled</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<p>위의 <code>playMyGame</code> 메서드는 <code>Guard</code> 문을 통해 오류가 날 경우 오류를 던지고 빠른 종료를 한다. <code>playMyGame</code> 메서드는 오류를 던지기 때문에 호출할 시에도 에러를 적절히 처리해줘야 한다. 그래서 <code>playInPCRoom</code> 함수에서는 <code>playMyGame</code> 메서드를 호출하기 때문에 <code>throws</code>를 붙여 에러를 처리해야 한다.</p>
<h3 id="2-do-catch-구문을-통한-처리"><a href="#2-do-catch-구문을-통한-처리" class="headerlink" title="2. do-catch 구문을 통한 처리"></a>2. do-catch 구문을 통한 처리</h3><img src="/2018/02/01/errorhandling/doCatch.png" title="image">
<p>do 절에서 try를 통해 오류를 던지게 되면 catch가 이를 포착해 오류를 받아 오류에 따른 처리를 한다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">playInPCRoom</span><span class="params">(pcRoom: String)</span></span>  &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Play game in <span class="subst">\(pcRoom)</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> computer = <span class="type">Computer</span>(os: .mac, performance: .bad)</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> computer.playMyGame()</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="type">GamePlayError</span>.performance &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"플레이 불가 사유: 성능 문제"</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="type">GamePlayError</span>.unsupportedOS(os: .linux) &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"플레이 불가 사유: 리눅스 지원 불가"</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="type">GamePlayError</span>.unsupportedOS(os: .window) &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"플레이 불가 사유: 윈도우 지원 불가"</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="type">GamePlayError</span>.unsupportedOS(os: .mac) &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"플레이 불가 사유: 맥 지원 불가"</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"그 외의 플레이 불가 사유: <span class="subst">\(error)</span>)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">playInPCRoom</span><span class="params">(pcRoom: String)</span></span>  &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Play game in <span class="subst">\(pcRoom)</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> computer = <span class="type">Computer</span>(os: .mac, performance: .bad)</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> computer.playMyGame()</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="keyword">let</span> cause &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"플레이 불가 사유: <span class="subst">\(cause)</span>"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>첫번째 경우 모든 경우에 대해 <code>catch</code>를 해주는 경우이다. <code>catch</code>는 <code>switch</code>문과 마찬가지로 <strong>exhaustive</strong>해야 한다. 그러므로 <code>default</code>까지 우리가 예상하지 못한 에러도 처리해주어야한다. 예외 상황에서 catch 구문에서 오류의 종류를 명시하지 않는 다면 error라는 이름의 지역 상수를 코드 블록에서 사용할 수 있다.<br>두번째 경우에는 error 지역 상수를 <code>cause</code>라는 이름으로 사용하였다.</p>
<h3 id="3-옵셔널을-통한-처리"><a href="#3-옵셔널을-통한-처리" class="headerlink" title="3. 옵셔널을 통한 처리"></a>3. 옵셔널을 통한 처리</h3><p><code>try?</code>를 통한 오류 처리로 오류가 반환될 시 반환 값으로 <code>Optional.none</code>, 즉 <code>nil</code>이 나오게 된다. 중요한 것은 에러가 나오지 않는 경우에서 반환값이 옵셔널이 아닌 메소드, 함수였더라도 <strong>반환 타입이 옵셔널</strong>이 붙여져 나온다는 것이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">playInPCRoom</span><span class="params">(pcRoom: String, computer: Computer)</span></span>  &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Play game in <span class="subst">\(pcRoom)</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> isPlayable = <span class="keyword">try</span>? computer.playMyGame()</span><br><span class="line">    <span class="built_in">print</span>(isPlayable)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">playInPCRoom(pcRoom: <span class="string">"3POP"</span>, computer: <span class="type">Computer</span>(os: .window, performance: .good))</span><br><span class="line"><span class="comment">// Play game in 3POP</span></span><br><span class="line"><span class="comment">// Optional(true)</span></span><br><span class="line">playInPCRoom(pcRoom: <span class="string">"LineUp"</span>, computer: <span class="type">Computer</span>(os: .mac, performance: .good))</span><br><span class="line"><span class="comment">// Play game in LineUp</span></span><br><span class="line"><span class="comment">// nil</span></span><br></pre></td></tr></table></figure>
<h3 id="4-오류가-발생하지-않을-거라-단정하기"><a href="#4-오류가-발생하지-않을-거라-단정하기" class="headerlink" title="4. 오류가 발생하지 않을 거라 단정하기"></a>4. 오류가 발생하지 않을 거라 단정하기</h3><p>개발자가 오류가 발생하지 않을 것이라 확신할 때 <code>try!</code> 키워드를 통해 사용하는 방법이다. 에러가 나는 경우 다른 느낌표(강제 타입 캐스팅, 강제 언래핑) 사용처럼 크래시가 나기 때문에 쓰지 않는 것이 좋을 것이다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">playInPCRoom</span><span class="params">(pcRoom: String, computer: Computer)</span></span>  &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Play game in <span class="subst">\(pcRoom)</span>"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> isPlayable = <span class="keyword">try</span>! computer.playMyGame()</span><br><span class="line">    <span class="built_in">print</span>(isPlayable)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">playInPCRoom(pcRoom: <span class="string">"LineUp"</span>, computer: <span class="type">Computer</span>(os: .mac, performance: .good))</span><br><span class="line"><span class="comment">// Play game in LineUp</span></span><br><span class="line"><span class="comment">// Fatal error: 'try!' expression unexpectedly raised an error: ...</span></span><br></pre></td></tr></table></figure>
<h2 id="defer로-마지막-청소"><a href="#defer로-마지막-청소" class="headerlink" title="defer로 마지막 청소"></a>defer로 마지막 청소</h2><p>Swift 공식 문서에서 오류처리 가이드의 마지막으로 소개한 것이 <code>defer</code> 구문이다. 코드블럭에서 벗어날 때 <code>defer</code> 구문 안의 코드 블럭이 실행되는 특징을 가지고 있기 때문에 개발자가 코드 블럭이 언제 끝나는지 신경쓰지 않아도 마지막 정리를 해줄 수 있다. 에러가 있든, 없든 <strong>무조건 실행이 보장된다</strong>. 공식 문서에서 사용한 예제는 다음과 같다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">processFile</span><span class="params">(filename: String)</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> exists(filename) &#123;</span><br><span class="line">        <span class="keyword">let</span> file = <span class="keyword">open</span>(filename)</span><br><span class="line">        <span class="keyword">defer</span> &#123;</span><br><span class="line">            close(file)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">let</span> line = <span class="keyword">try</span> file.readline() &#123;</span><br><span class="line">            <span class="comment">// Work with the file.</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// close(file) is called here, at the end of the scope.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>파일을 열고 읽어서 사용하려고 할 때 에러가 발생할 수도, 발생하지 않을 수도 있다. 어쨌든 파일을 정상적으로 닫아주어 메모리에서 해제해줘야 하기 때문에 <code>defer</code> 문을 통해 파일을 닫아준다.</p>
<blockquote>
<p>defer 문은 오류 처리에 유용하게 쓰이지만 이뿐만 아니라 함수, 반복문, 조건문 등등 코드 블록 어디에서든 사용이 가능하다고 한다.</p>
</blockquote>
<p>defer 문은 특이하게 스택 구조처럼 실행이 된다. 한 코드 블록 내에서 defer 문이 여러 개가 있다면 나중에 작성된 구문부터 실행이 된다.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">deferExample</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>, separator: <span class="string">""</span>, terminator: <span class="string">" "</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="number">5</span>, separator: <span class="string">""</span>, terminator: <span class="string">""</span>) <span class="comment">// 가장 마지막에 실행되므로 ""</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>, separator: <span class="string">""</span>, terminator: <span class="string">" "</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="number">4</span>, separator: <span class="string">""</span>, terminator: <span class="string">" "</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="number">3</span>, separator: <span class="string">""</span>, terminator: <span class="string">" "</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">deferExample()</span><br><span class="line"><span class="comment">// 1 2 3 4 5</span></span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/ErrorHandling.html#//apple_ref/doc/uid/TP40014097-CH42-ID508" target="_blank" rel="noopener">Error Handling - The Swift Programming Language</a></li>
<li><a href="http://www.hanbit.co.kr/store/books/look.php?p_code=B5682208459" target="_blank" rel="noopener">스위프트 프로그래밍 - 야곰 님</a></li>
</ul>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-Handling"><span class="toc-number">1.</span> <span class="toc-text">Error Handling?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-표현"><span class="toc-number">2.</span> <span class="toc-text">Error 표현</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Error-처리하기"><span class="toc-number">3.</span> <span class="toc-text">Error 처리하기</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-함수가-발생시킨-오류를-그-함수의-코드에-알리기"><span class="toc-number">3.1.</span> <span class="toc-text">1. 함수가 발생시킨 오류를 그 함수의 코드에 알리기</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-do-catch-구문을-통한-처리"><span class="toc-number">3.2.</span> <span class="toc-text">2. do-catch 구문을 통한 처리</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-옵셔널을-통한-처리"><span class="toc-number">3.3.</span> <span class="toc-text">3. 옵셔널을 통한 처리</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-오류가-발생하지-않을-거라-단정하기"><span class="toc-number">3.4.</span> <span class="toc-text">4. 오류가 발생하지 않을 거라 단정하기</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#defer로-마지막-청소"><span class="toc-number">4.</span> <span class="toc-text">defer로 마지막 청소</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">5.</span> <span class="toc-text">Reference</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://wnstkdyu.github.io/2018/02/01/errorhandling/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&text=Error Handling"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&is_video=false&description=Error Handling"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Error Handling&body=Check out this article: https://wnstkdyu.github.io/2018/02/01/errorhandling/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&title=Error Handling"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://wnstkdyu.github.io/2018/02/01/errorhandling/&name=Error Handling&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 Alpaca
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-116302583-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'alpacablog';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


